(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{14:function(e,t,n){e.exports={TaskEditor:"ContactsForm_TaskEditor__2VeED",TaskEditor_label:"ContactsForm_TaskEditor_label__17ZZj",TaskEditor_input:"ContactsForm_TaskEditor_input__vn7L0",TaskEditorinput:"ContactsForm_TaskEditorinput__1K7lu",TaskEditor_button:"ContactsForm_TaskEditor_button__Gs4c6"}},24:function(e,t,n){e.exports={TaskList:"ContactList_TaskList__1vssD",TaskList_item:"ContactList_TaskList_item__2eNkl",TaskList_button:"ContactList_TaskList_button__1TfR2"}},38:function(e,t,n){e.exports={containerApp:"Container_containerApp__2QKgb"}},39:function(e,t,n){e.exports={TaskEditor_input:"Filter_TaskEditor_input__1ids8"}},71:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),i=n.n(c),s=n(12),o=n(4),u=n(36),l=n(22),b=n(7),j=n(11),d=n(37),O=n.n(d),p=n(9),f=n(3),m=Object(b.b)("contact/filter"),h=n(13),x=n.n(h),v=n(23),_=n(17),k=n.n(_);k.a.defaults.baseURL="https://6196b1abaf46280017e7e242.mockapi.io/";var g,C,y=Object(b.c)("contact/fetchContacts",function(){var e=Object(v.a)(x.a.mark((function e(t,n){var a,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,k.a.get("/contact");case 4:return r=e.sent,c=r.data,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",a(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),T=Object(b.c)("contact/addContact",function(){var e=Object(v.a)(x.a.mark((function e(t,n){var a,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,k.a.post("/contacts",t);case 4:return r=e.sent,c=r.data,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",a(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),w=Object(b.c)("contact/deleteContact",function(){var e=Object(v.a)(x.a.mark((function e(t,n){var a,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,k.a.delete("/contacts/".concat(t));case 4:return r=e.sent,c=r.data.id,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",a(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),E=Object(b.d)([{id:"id-1",name:"Rosie Simpson",number:"459-12-56"},{id:"id-2",name:"Hermione Kline",number:"443-89-12"},{id:"id-3",name:"Eden Clements",number:"645-17-79"},{id:"id-4",name:"Annie Copeland",number:"227-91-26"}],(g={},Object(p.a)(g,y.fulfilled,(function(e,t){return t.payload})),Object(p.a)(g,T.fulfilled,(function(e,t){var n=t.payload;return[].concat(Object(l.a)(e),[n])})),Object(p.a)(g,w.fulfilled,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),g)),L=Object(b.d)(!1,(C={},Object(p.a)(C,y.pending,(function(){return!0})),Object(p.a)(C,y.fulfilled,(function(){return!1})),Object(p.a)(C,y.rejected,(function(){return!1})),Object(p.a)(C,T.pending,(function(){return!0})),Object(p.a)(C,T.fulfilled,(function(){return!1})),Object(p.a)(C,T.rejected,(function(){return!1})),Object(p.a)(C,w.pending,(function(){return!0})),Object(p.a)(C,w.fulfilled,(function(){return!1})),Object(p.a)(C,w.rejected,(function(){return!1})),C)),A=Object(b.d)("",Object(p.a)({},m,(function(e,t){return t.payload}))),N=Object(b.d)(null,{}),S=Object(f.b)({items:E,filter:A,loading:L,error:N}),F={key:"root",storage:O.a,blacklist:["filter"]},D=Object(b.a)({reducer:{contacts:Object(j.g)(F,S)},middleware:Object(l.a)(Object(b.e)({serializableCheck:{ignoredActions:[j.a,j.f,j.b,j.c,j.d,j.e]}})),devTools:!1}),R=Object(j.h)(D),z=(n(71),n(2)),Z=n(38),B=n.n(Z),M=n(1);function P(e){var t=e.children;return Object(M.jsx)("div",{className:B.a.containerApp,children:t})}function V(){return Object(M.jsx)("h1",{children:"Home page!!!"})}var H=n(5),J={form:{width:320},label:{display:"flex",flexDirection:"column",marginBottom:15}};function K(){var e=Object(a.useState)(""),t=Object(H.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(H.a)(c,2),s=i[0],o=i[1],u=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"email":return r(a);case"password":return o(a);default:return}};return Object(M.jsxs)("div",{children:[Object(M.jsx)("h1",{children:"Login page"}),Object(M.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(""),o("")},style:J.form,autoComplete:"off",children:[Object(M.jsxs)("label",{style:J.label,children:["Mail",Object(M.jsx)("input",{type:"email",name:"email",value:n,onChange:u})]}),Object(M.jsxs)("label",{style:J.label,children:["Password",Object(M.jsx)("input",{type:"password",name:"password",value:s,onChange:u})]}),Object(M.jsx)("button",{type:"submit",children:"Enter"})]})]})}var W={form:{width:320},label:{display:"flex",flexDirection:"column",marginBottom:15}};function q(){Object(o.b)();var e=Object(a.useState)(""),t=Object(H.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(H.a)(c,2),s=i[0],u=i[1],l=Object(a.useState)(""),b=Object(H.a)(l,2),j=b[0],d=b[1],O=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"name":return r(a);case"email":return u(a);case"password":return d(a);default:return}};return Object(M.jsxs)("div",{children:[Object(M.jsx)("h1",{children:"Registration page"}),Object(M.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(""),u(""),d("")},style:W.form,autoComplete:"off",children:[Object(M.jsxs)("label",{style:W.label,children:["Name",Object(M.jsx)("input",{type:"text",name:"name",value:n,onChange:O})]}),Object(M.jsxs)("label",{style:W.label,children:["Mail",Object(M.jsx)("input",{type:"email",name:"email",value:s,onChange:O})]}),Object(M.jsxs)("label",{style:W.label,children:["Password",Object(M.jsx)("input",{type:"password",name:"password",value:j,onChange:O})]}),Object(M.jsx)("button",{type:"submit",children:"Register now"})]})]})}var G=n(21),I=function(e){return e.contacts.loading},Q=function(e){return e.contacts.filter},U=Object(G.a)([function(e){return e.contacts.items},Q],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),$=n(24),X=n.n($);function Y(){var e=Object(o.c)(U),t=Object(o.b)();return Object(M.jsx)("ul",{className:X.a.TaskList,children:e.map((function(e){var n=e.id,a=e.name,r=e.number;return Object(M.jsxs)("li",{className:X.a.TaskList_item,children:[a," : ",r,Object(M.jsx)("button",{className:X.a.TaskList_button,onClick:function(){return t(w.fulfilled(n))},children:"Delete"})]},n)}))})}var ee=n(75),te=n(14),ne=n.n(te);function ae(){var e=Object(a.useState)(""),t=Object(H.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(H.a)(c,2),s=i[0],u=i[1],l=Object(o.c)((function(e){return e})).contacts,b=Object(o.b)(),j=Object(ee.a)(),d=Object(ee.a)(),O=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"name":r(a);break;case"number":u(a)}};return Object(M.jsxs)("form",{onSubmit:function(e){e.preventDefault();if(function(e){return l.items.map((function(e){return e.name})).includes(e)}(n))return alert("".concat(n," is already in contacts"));b(T({name:n,number:s})),r(""),u("")},className:ne.a.TaskEditor,children:[Object(M.jsx)("label",{id:j,className:ne.a.TaskEditor_label,children:Object(M.jsx)("input",{className:ne.a.TaskEditor_input,id:j,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432,\r \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432.\r \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer,\r Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0,value:n,onChange:O})}),Object(M.jsx)("label",{id:d,className:ne.a.TaskEditor_label,children:Object(M.jsx)("input",{className:ne.a.TaskEditor_input,id:d,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0,value:s,onChange:O})}),Object(M.jsx)("button",{className:ne.a.TaskEditor_button,type:"submit",children:"Add contact"})]})}var re=n(39),ce=n.n(re);function ie(){var e=Object(o.c)(Q),t=Object(o.b)();return Object(M.jsxs)("div",{children:[Object(M.jsx)("h3",{children:"Find contacts by name"}),Object(M.jsx)("input",{className:ce.a.TaskEditor_input,type:"text",value:e,onChange:function(e){return t(m(e.target.value))}})]})}function se(){var e=Object(o.c)(I),t=Object(o.b)();return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("h1",{children:"Phonebook"}),Object(M.jsx)(ae,{}),Object(M.jsx)("h2",{children:"Contacts"}),Object(M.jsx)(ie,{}),Object(M.jsx)(Y,{onFetchContacts:function(){return t(y.fulfilled())}}),e&&Object(M.jsx)("h1",{children:"loading ..."})]})}function oe(e){var t=e.isAuth,n=e.component;return Object(M.jsx)(M.Fragment,{children:t?Object(M.jsx)(z.a,{to:"/"}):Object(M.jsx)(n,{})})}var ue=!1;var le=function(){return Object(M.jsxs)(P,{children:[Object(M.jsx)("nav",{children:Object(M.jsxs)("ul",{children:[Object(M.jsx)("li",{children:Object(M.jsx)(s.b,{to:"/",children:"Home"})}),Object(M.jsx)("li",{children:Object(M.jsx)(s.b,{to:"/register",children:"Register"})}),Object(M.jsx)("li",{children:Object(M.jsx)(s.b,{to:"/login",children:"Login"})}),Object(M.jsx)("li",{children:Object(M.jsx)(s.b,{to:"/phonebook",children:"Phonebook"})})]})}),Object(M.jsxs)(z.d,{children:[Object(M.jsx)(z.b,{path:"/",element:Object(M.jsx)(oe,{isAuth:ue,component:V})}),Object(M.jsx)(z.b,{path:"/register",element:Object(M.jsx)(oe,{isAuth:ue,component:q})}),Object(M.jsx)(z.b,{path:"/login",element:Object(M.jsx)(oe,{isAuth:ue,component:K})}),Object(M.jsx)(z.b,{path:"/phonebook",element:Object(M.jsx)(oe,{isAuth:ue,component:se})})]})]})};i.a.render(Object(M.jsx)(r.a.StrictMode,{children:Object(M.jsx)(o.a,{store:D,children:Object(M.jsx)(u.a,{loading:"please wait",persistor:R,children:Object(M.jsx)(s.a,{children:Object(M.jsx)(le,{})})})})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.fd672f4d.chunk.js.map