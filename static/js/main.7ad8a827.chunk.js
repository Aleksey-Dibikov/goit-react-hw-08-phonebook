(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{16:function(e,t,n){e.exports={TaskEditor:"ContactsForm_TaskEditor__2VeED",TaskEditor_label:"ContactsForm_TaskEditor_label__17ZZj",TaskEditor_input:"ContactsForm_TaskEditor_input__vn7L0",TaskEditorinput:"ContactsForm_TaskEditorinput__1K7lu",TaskEditor_button:"ContactsForm_TaskEditor_button__Gs4c6"}},24:function(e,t,n){e.exports={TaskList:"ContactList_TaskList__1vssD",TaskList_item:"ContactList_TaskList_item__2eNkl",TaskList_button:"ContactList_TaskList_button__1TfR2"}},38:function(e,t,n){e.exports={containerApp:"Container_containerApp__2QKgb"}},39:function(e,t,n){e.exports={TaskEditor_input:"Filter_TaskEditor_input__1ids8"}},71:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(21),i=n.n(c),s=n(13),o=n(3),u=n(37),l=n(23),b=n(4),j=n(12),d=n(27),p=n.n(d),O=n(8),f=n(5),h=Object(b.b)("contact/filter"),m=n(11),x=n.n(m),v=n(15),g=n(14),k=n.n(g);k.a.defaults.baseURL="https://6196b1abaf46280017e7e242.mockapi.io/";var y,_,w=Object(b.c)("contact/fetchContacts",function(){var e=Object(v.a)(x.a.mark((function e(t,n){var a,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,k.a.get("/contact");case 4:return r=e.sent,c=r.data,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",a(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),C=Object(b.c)("contact/addContact",function(){var e=Object(v.a)(x.a.mark((function e(t,n){var a,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,k.a.post("/contacts",t);case 4:return r=e.sent,c=r.data,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",a(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),L=Object(b.c)("contact/deleteContact",function(){var e=Object(v.a)(x.a.mark((function e(t,n){var a,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rejectWithValue,e.prev=1,e.next=4,k.a.delete("/contacts/".concat(t));case 4:return r=e.sent,c=r.data.id,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",a(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),T=Object(b.d)([{id:"id-1",name:"Rosie Simpson",number:"459-12-56"},{id:"id-2",name:"Hermione Kline",number:"443-89-12"},{id:"id-3",name:"Eden Clements",number:"645-17-79"},{id:"id-4",name:"Annie Copeland",number:"227-91-26"}],(y={},Object(O.a)(y,w.fulfilled,(function(e,t){return t.payload})),Object(O.a)(y,C.fulfilled,(function(e,t){var n=t.payload;return[].concat(Object(l.a)(e),[n])})),Object(O.a)(y,L.fulfilled,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),y)),E=Object(b.d)(!1,(_={},Object(O.a)(_,w.pending,(function(){return!0})),Object(O.a)(_,w.fulfilled,(function(){return!1})),Object(O.a)(_,w.rejected,(function(){return!1})),Object(O.a)(_,C.pending,(function(){return!0})),Object(O.a)(_,C.fulfilled,(function(){return!1})),Object(O.a)(_,C.rejected,(function(){return!1})),Object(O.a)(_,L.pending,(function(){return!0})),Object(O.a)(_,L.fulfilled,(function(){return!1})),Object(O.a)(_,L.rejected,(function(){return!1})),_)),A=Object(b.d)("",Object(O.a)({},h,(function(e,t){return t.payload}))),N=Object(b.d)(null,{}),S=Object(f.b)({items:T,filter:A,loading:E,error:N});k.a.defaults.baseURL="https://connections-api.herokuapp.com";var F=Object(b.c)("auth/register",function(){var e=Object(v.a)(x.a.mark((function e(t){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.post("/users/signup",t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),D=Object(b.c)("auth/login",function(){var e=Object(v.a)(x.a.mark((function e(t){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.post("/users/login",t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),I=Object(b.e)({name:"auth",initialState:{user:{name:null,email:null},token:null,isLoggedIn:!1},extraReducers:Object(O.a)({},F.fulfilled,(function(e,t){e.user=t.payload.user,e.token=t.payload.token,e.isLoggedIn=!0}))}).reducer,R={key:"root",storage:p.a,blacklist:["filter"]},B={key:"auth",storage:p.a,whitelist:["token"]},W=Object(b.a)({reducer:{contacts:Object(j.g)(R,S),auth:Object(j.g)(B,I)},middleware:Object(l.a)(Object(b.f)({serializableCheck:{ignoredActions:[j.a,j.f,j.b,j.c,j.d,j.e]}})),devTools:!1}),z=Object(j.h)(W),Z=(n(71),n(2)),M=n(38),P=n.n(M),U=n(0);function V(e){var t=e.children;return Object(U.jsx)("div",{className:P.a.containerApp,children:t})}function H(){return Object(U.jsx)("h1",{children:"Home page!!!"})}var J=n(6),K={form:{width:320},label:{display:"flex",flexDirection:"column",marginBottom:15}};function q(){var e=Object(o.b)(),t=Object(a.useState)(""),n=Object(J.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(""),s=Object(J.a)(i,2),u=s[0],l=s[1],b=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"email":return c(a);case"password":return l(a);default:return}};return Object(U.jsxs)("div",{children:[Object(U.jsx)("h1",{children:"Login page"}),Object(U.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(D({email:r,password:u})),c(""),l("")},style:K.form,autoComplete:"off",children:[Object(U.jsxs)("label",{style:K.label,children:["Mail",Object(U.jsx)("input",{type:"email",name:"email",value:r,onChange:b})]}),Object(U.jsxs)("label",{style:K.label,children:["Password",Object(U.jsx)("input",{type:"password",name:"password",value:u,onChange:b})]}),Object(U.jsx)("button",{type:"submit",children:"Enter"})]})]})}var G={form:{width:320},label:{display:"flex",flexDirection:"column",marginBottom:15}};function Q(){var e=Object(o.b)(),t=Object(a.useState)(""),n=Object(J.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(""),s=Object(J.a)(i,2),u=s[0],l=s[1],b=Object(a.useState)(""),j=Object(J.a)(b,2),d=j[0],p=j[1],O=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"name":return c(a);case"email":return l(a);case"password":return p(a);default:return}};return Object(U.jsxs)("div",{children:[Object(U.jsx)("h1",{children:"Registration page"}),Object(U.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(F({name:r,email:u,password:d})),c(""),l(""),p("")},style:G.form,autoComplete:"off",children:[Object(U.jsxs)("label",{style:G.label,children:["Name",Object(U.jsx)("input",{type:"text",name:"name",value:r,onChange:O})]}),Object(U.jsxs)("label",{style:G.label,children:["Mail",Object(U.jsx)("input",{type:"email",name:"email",value:u,onChange:O})]}),Object(U.jsxs)("label",{style:G.label,children:["Password",Object(U.jsx)("input",{type:"password",name:"password",value:d,onChange:O})]}),Object(U.jsx)("button",{type:"submit",children:"Register now"})]})]})}var $=n(22),X=function(e){return e.contacts.loading},Y=function(e){return e.contacts.filter},ee=Object($.a)([function(e){return e.contacts.items},Y],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),te=n(24),ne=n.n(te);function ae(){var e=Object(o.c)(ee),t=Object(o.b)();return Object(U.jsx)("ul",{className:ne.a.TaskList,children:e.map((function(e){var n=e.id,a=e.name,r=e.number;return Object(U.jsxs)("li",{className:ne.a.TaskList_item,children:[a," : ",r,Object(U.jsx)("button",{className:ne.a.TaskList_button,onClick:function(){return t(L.fulfilled(n))},children:"Delete"})]},n)}))})}var re=n(75),ce=n(16),ie=n.n(ce);function se(){var e=Object(a.useState)(""),t=Object(J.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(J.a)(c,2),s=i[0],u=i[1],l=Object(o.c)((function(e){return e})).contacts,b=Object(o.b)(),j=Object(re.a)(),d=Object(re.a)(),p=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"name":r(a);break;case"number":u(a)}};return Object(U.jsxs)("form",{onSubmit:function(e){e.preventDefault();if(function(e){return l.items.map((function(e){return e.name})).includes(e)}(n))return alert("".concat(n," is already in contacts"));b(C({name:n,number:s})),r(""),u("")},className:ie.a.TaskEditor,children:[Object(U.jsx)("label",{id:j,className:ie.a.TaskEditor_label,children:Object(U.jsx)("input",{className:ie.a.TaskEditor_input,id:j,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432,\r \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432.\r \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer,\r Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0,value:n,onChange:p})}),Object(U.jsx)("label",{id:d,className:ie.a.TaskEditor_label,children:Object(U.jsx)("input",{className:ie.a.TaskEditor_input,id:d,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0,value:s,onChange:p})}),Object(U.jsx)("button",{className:ie.a.TaskEditor_button,type:"submit",children:"Add contact"})]})}var oe=n(39),ue=n.n(oe);function le(){var e=Object(o.c)(Y),t=Object(o.b)();return Object(U.jsxs)("div",{children:[Object(U.jsx)("h3",{children:"Find contacts by name"}),Object(U.jsx)("input",{className:ue.a.TaskEditor_input,type:"text",value:e,onChange:function(e){return t(h(e.target.value))}})]})}function be(){var e=Object(o.c)(X),t=Object(o.b)();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("h1",{children:"Phonebook"}),Object(U.jsx)(se,{}),Object(U.jsx)("h2",{children:"Contacts"}),Object(U.jsx)(le,{}),Object(U.jsx)(ae,{onFetchContacts:function(){return t(w.fulfilled())}}),e&&Object(U.jsx)("h1",{children:"loading ..."})]})}function je(e){var t=e.isAuth,n=e.component;return Object(U.jsx)(U.Fragment,{children:t?Object(U.jsx)(Z.a,{to:"/"}):Object(U.jsx)(n,{})})}var de={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5"}},pe=function(){return Object(U.jsxs)("nav",{children:[Object(U.jsx)(s.b,{to:"/",style:de.link,activestyle:de.activeLink,children:"Home"}),Object(U.jsx)(s.b,{to:"/phonebook",style:de.link,activestyle:de.activeLink,children:"Phonebook"})]})},Oe={getIsLoggedIn:function(e){return e.auth.isLoggedIn},getUserName:function(e){return e.auth.name}},fe={container:{display:"flex",alignItems:"center"},avatar:{marginRight:4},name:{fontWeight:700,marginRight:12}};function he(){Object(o.b)();var e=Object(o.c)(Oe.getUsername);return Object(U.jsxs)("div",{style:fe.container,children:[Object(U.jsxs)("span",{style:fe.name,children:["Welcome, ",e]}),Object(U.jsx)("button",{type:"button",children:"Exit"})]})}var me={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}};function xe(){return Object(U.jsxs)("div",{children:[Object(U.jsx)(s.b,{to:"/register",style:me.link,activestyle:me.activeLink,children:"Register"}),Object(U.jsx)(s.b,{to:"/login",style:me.link,activestyle:me.activeLink,children:"Login"})]})}var ve={header:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #2A363B"}};function ge(){var e=Object(o.c)(Oe.getIsLoggedIn);return Object(U.jsxs)("header",{style:ve.header,children:[Object(U.jsx)(pe,{}),e?Object(U.jsx)(he,{}):Object(U.jsx)(xe,{})]})}var ke=!1;var ye=function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ge,{}),Object(U.jsx)(V,{children:Object(U.jsxs)(Z.d,{children:[Object(U.jsx)(Z.b,{path:"/",element:Object(U.jsx)(je,{isAuth:ke,component:H})}),Object(U.jsx)(Z.b,{path:"/register",element:Object(U.jsx)(je,{isAuth:ke,component:Q})}),Object(U.jsx)(Z.b,{path:"/login",element:Object(U.jsx)(je,{isAuth:ke,component:q})}),Object(U.jsx)(Z.b,{path:"/phonebook",element:Object(U.jsx)(je,{isAuth:ke,component:be})})]})})]})};i.a.render(Object(U.jsx)(r.a.StrictMode,{children:Object(U.jsx)(o.a,{store:W,children:Object(U.jsx)(u.a,{loading:"please wait",persistor:z,children:Object(U.jsx)(s.a,{children:Object(U.jsx)(ye,{})})})})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.7ad8a827.chunk.js.map